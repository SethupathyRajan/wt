<!DOCTYPE html>
<html ng-app="AttendanceApp">
    <head>
        <title>Attendance Tracker</title>
        <link rel="stylesheet" href="styles.css">
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular-animate.min.js"></script>
        <script src="app.js"></script>
    </head>
    <body ng-controller="MainCtrl">
        <h2>Student Attendace Tracker</h2>

        <div>
            <input type="text" ng-model="record.name" placeholder="Name" required>
            <input type="text" ng-model="record.roll" placeholder="Roll No" required>
            <input type="text" ng-model="record.department" placeholder="Department" required>
            <input type="date" ng-model="record.date" placeholder="date">
            <select ng-model="record.status">
                <option value="Present">Present</option>
                <option value="Absent">Absent</option>
            </select>
            <button ng-click="addRecord()">Add</button>
        </div>

        <br>
        <button ng-click="filterStatus('All')">All</button>
        <button ng-click="filterStatus('Present')">Present</button>
        <button ng-click="filterStatus('Absent')">Absent</button>

        <h2>Attendance record</h2>
        <table>
            <tr>
                <th>Name</th>
                <th>Roll</th>
                <th>Dept</th>
                <th>Date</th>
                <th>Status</th>
                <th>Actions</th>
            </tr>

            <tr ng-repeat="r in records | filter:statusFilter" class="fade">
                <td>{{r.name}}</td>
                <td>{{r.roll}}</td>
                <td>{{r.department}}</td>
                <td>{{r.date | date}}</td>
                <td>{{r.status}}</td>
                <td>
                    <button ng-click="updateStatus(r,'Present')">Present</button>
                    <button ng-click="updateStatus(r,'Absent')">Absent</button>
                    <button ng-click="deleteRecord(r._id)">Delete</button>

                </td>
            </tr>
        </table>

    </body>
    </html>